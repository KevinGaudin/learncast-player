<!DOCTYPE html>
<html ng-app="LearnPlayerApp">
	<head>
		<title>Learn sender</title>
		<link rel="stylesheet" type="text/css" href="bower_components/angular-material/angular-material.min.css">
		<link rel="stylesheet" type="text/css" href="css/main.css">
		<link rel="stylesheet" type="text/css" href="vendor/daneden/animate.css">
		
		<!-- Bower dependencies -->
		<script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
		<script type="text/javascript" src="bower_components/angular-animate/angular-animate.min.js"></script>
		<script type="text/javascript" src="bower_components/angular-material/angular-material.min.js"></script>
		<script type="text/javascript" src="bower_components/angular-translate/angular-translate.min.js"></script>
		<script type="text/javascript" src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js"></script>
		<script src="bower_components/messageformat/messageformat.js"></script>
		<script src="bower_components/messageformat/locale/en.js"></script>
		<script src="bower_components/messageformat/locale/fr.js"></script>
		<script src="bower_components/angular-translate-interpolation-messageformat/angular-translate-interpolation-messageformat.min.js"></script>
		<!-- / Bower dependencies -->
		
		<script type="text/javascript" src="vendor/kevingaudin/monsterid/monsterid.min.js"></script>
		<script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
		<script type="text/javascript" src="src/main.js"></script>
		<script type="text/javascript" src="src/service.monsterid.js"></script>
	</head>
	<body ng-controller="LearnPlayerController as learnPlayer">
		<div layout="vertical">
			<!-- Toolbar -->
			<material-toolbar class="material-theme-light">
				<div class="material-toolbar-tools">
					<span translate='TITLE'></span>
					<!-- fill up the space between left and right area -->
			      	<span flex></span>


					<div ng-hide="learnPlayer.receiverAvailable" translate="RECEIVER_SEARCH"></div>
					<material-button ng-show="learnPlayer.receiverAvailable && !learnPlayer.sessionConnected" ng-click="startAppSession()">
						<img src="UI/assets/icons/material/cast.svg">
					</material-button>

		    		<material-button ng-click="stopApp()" ng-show="learnPlayer.sessionConnected">
						<img src="UI/assets/icons/material/cast-connected.svg">
			    	</material-button>
				</div>				
			</material-toolbar>

			<material-content layout="vertical" layout-sm="horizontal">
				<!-- Player pane -->
				<material-card flex>
					<div layout="vertical">
						<div layout="horizontal" layout-align="center">
							<img monsterid="{{learnPlayer.name}}" title="{{learnPlayer.name}}" class="avatar"/>
							<div layout="vertical" layout-align="center">
								<label translate="PLAYER_NAME"></label>
								<input type="text" ng-model="learnPlayer.name" ng-change="identify()"/>
							</div>
						</div>
						<material-button class="material-button-raised material-button-colored" ng-show="learnPlayer.sessionConnected" ng-click="readyToPlay()" translate="READY"></material-button>
					</div>
				</material-card>
				<!-- Questions Pane -->
				<material-card  flex id="question-block" ng-show="learnPlayer.question">
					<div layout="horizontal" layout-align="center">
					<div layout="vertical" layout-align="center">
						<h2 id="question">{{learnPlayer.question}}</h2>
						<input type="text" ng-model="learnPlayer.answer" ng-change="submitAnswer()">
					</div>
					</div>
				</material-card>
				<div id="winner" ng-show="learnPlayer.winner">
					{{"WINNER" | translate}} {{learnPlayer.winner.name}}
				</div>
			</material-content>
		</div>
	</body>
</html>